#include <stdio.h>
#include <stdlib.h>

#define PRODUCT_COUNT 5
#define NAME_LEN 20

void printMenu() {
    printf("\n원하는 메뉴를 선택하세요\n");
    printf("1. 입고\n");
    printf("2. 판매\n");
    printf("3. 상품 현황\n");
    printf("4. 프로그램 종료\n");
    printf("메뉴 선택 >> ");
}

void printStatus(char products[][NAME_LEN], int stock_in[], int sold[], int stock[]) {
    printf("\n상품ID\t상품명\t\t입고수량\t판매수량\t재고수량\n");
    for (int i = 0; i < PRODUCT_COUNT; i++) {
        printf("%d\t%-10s\t%d\t\t%d\t\t%d\n",
               i + 1, products[i], stock_in[i], sold[i], stock[i]);
    }
}

int main() {
    char products[PRODUCT_COUNT][NAME_LEN] = {
        "노트북", "스마트폰", "태블릿", "이어폰", "충전기"
    };

    int stock_in[PRODUCT_COUNT] = {0};
    int sold[PRODUCT_COUNT] = {0};
    int stock[PRODUCT_COUNT] = {0};

    int menu, num, qty;

    while (1) {
        printMenu();
        scanf("%d", &menu);

        switch (menu) {
        case 1:
            printf("\n입고할 상품 번호 (1~%d): ", PRODUCT_COUNT);
            scanf("%d", &num);
            if (num < 1 || num > PRODUCT_COUNT) {
                printf("잘못된 상품 번호입니다.\n");
                break;
            }
            printf("입고 수량: ");
            scanf("%d", &qty);

            stock_in[num - 1] += qty;
            stock[num - 1] += qty;

            printf("상품 %d개 입고 완료\n", products[num - 1], qty);
            break;

        case 2:
            printf("\n판매할 상품 번호 (1~%d): ", PRODUCT_COUNT);
            scanf("%d", &num);
            if (num < 1 || num > PRODUCT_COUNT) {
                printf("잘못된 상품 번호입니다.\n");
                break;
            }
            printf("판매 수량: ");
            scanf("%d", &qty);

            if (stock[num - 1] < qty) {
                printf("재고가 부족합니다! 현재 재고: %d\n", stock[num - 1]);
            } else {
                sold[num - 1] += qty;
                stock[num - 1] -= qty;
                printf("상품 [%s] %d개 판매 완료\n", products[num - 1], qty);
            }
            break;

        case 3:
            printStatus(products, stock_in, sold, stock);
            break;

        case 4:
            printf("프로그램을 종료합니다.\n");
            exit(0);

        default:
            printf("잘못된 선택입니다.\n");
        }
    }
    return 0;
}
